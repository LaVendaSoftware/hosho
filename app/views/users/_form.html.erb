<%= render(Components::PageTitle::Form.new(record: user, back_url: users_path)) %>

<div class="flex flex-col gap-4 p-4 md:gap-6 md:p-6">
  <%= form_for(user) do |form| %>
    <%= render("users/nested_form", form:) %>
    <%= render(Components::Form::EnumSelect.new(form, :role, except: [:standard, :developer])) %>
    <%= render(Components::Form::HasManyField.new(form, :company_ids, collection: current_companies.pluck(:name, :id))) %>

    <%= render(Components::Form::SubmitButton.new(form)) %>
  <% end %>
</div>
